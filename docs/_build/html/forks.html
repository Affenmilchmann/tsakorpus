
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Forks &#8212; tsakorpus 2.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Source convertors" href="src_convertors.html" />
    <link rel="prev" title="Getting started" href="overview.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="forks">
<h1>Forks<a class="headerlink" href="#forks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Tsakorpus is regularly updated: new features are introduced, bugs are fixed, etc. If you are going to make your corpus publicly available and maintain it, you will probably want to update its interface once a while to keep it up to date. Since your Tsakorpus instance contains settings and files specific for your corpus, such as <code class="docutils literal notranslate"><span class="pre">/conf/corpus.json</span></code> or customized translations in <code class="docutils literal notranslate"><span class="pre">/search/web_app/translations</span></code>, you will not be able to simply overwrite your files with those taken from a newer version of Tsakorpus.</p>
<p>A solution to that problem is creating a fork. A fork is basically a copy of a repository that lives on its own once it has been created. However, Tsakorpus is stored in a public repository, while you would probably want to keep your project in a private one (especially if you are going to store copyright-protected source files there). Github <a class="reference external" href="https://github.community/t/how-to-create-a-private-fork-from-a-public-repo-directly-without-using-cli/2476">does not allow</a> private forks of public repositories. However, if you want to host your project repository on Github as well, there is a workaround for that.</p>
</div>
<div class="section" id="creating-a-private-fork-on-github">
<h2>Creating a private “fork” on Github<a class="headerlink" href="#creating-a-private-fork-on-github" title="Permalink to this headline">¶</a></h2>
<p>Instead of creating a real fork, you can duplicate Tsakorpus repository and manually set up an upstream for it. This is how it is done:</p>
<ol class="arabic">
<li><p>Log in to Github.</p></li>
<li><p>Create a new project by importing Tsakorpus <a class="reference external" href="https://github.com/new/import">here</a>. Put Tsakorpus Github URL (<code class="docutils literal notranslate"><span class="pre">https://github.com/timarkh/tsakorpus.git</span></code>) to the <em>clone URL</em> text box. Pick a repository name. Check the “Private” button, unless you want all your corpus files to be visible to anyone. Press “Begin import”.</p></li>
<li><p>Clone the repository to the computer where you are going to work with the corpus.</p></li>
<li><p>Run the following commands in the folder where you cloned it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">upstream</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">timarkh</span><span class="o">/</span><span class="n">tsakorpus</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">remote</span> <span class="nb">set</span><span class="o">-</span><span class="n">url</span> <span class="o">--</span><span class="n">push</span> <span class="n">upstream</span> <span class="n">DISABLE</span>
</pre></div>
</div>
</li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">corpus</span></code> folder to <code class="docutils literal notranslate"><span class="pre">/src_convertors</span></code> and put all your source files and metadata there, as well as conversion settings (see <a class="reference internal" href="src_convertors.html"><span class="doc">Source convertors</span></a>).</p></li>
<li><p>Adjust settings in <code class="docutils literal notranslate"><span class="pre">/conf</span></code> (see <a class="reference internal" href="configuration.html"><span class="doc">Corpus configuration</span></a>) and the interface translations in <code class="docutils literal notranslate"><span class="pre">/search/web_app/translations</span></code> (you should at least write the title of your corpus there; see <a class="reference internal" href="interface_languages.html"><span class="doc">&lt;no title&gt;</span></a>).</p></li>
<li><p>Remove the <code class="docutils literal notranslate"><span class="pre">/src_convertors/corpus/\*\*</span></code> line from the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file, so that your corpus files can become part of the repository. If you only want to store the source corpus files (e.g. txt or ELAN transcriptions), but not the converted JSONs, you can modify <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> by including <code class="docutils literal notranslate"><span class="pre">src_convertors/corpus/json/\*\*</span></code>. This usually makes sense because JSONs can be automatically generated from your source files.</p></li>
</ol>
<p>After you are through with these steps, you can commit changes and continue working with the corpus. However, if you are familiar with shell scripts or a programming language like Python, it would make sense to add a script that would do all preprocessing steps for you. First of all, that means launching the right convertor on your source files and then moving the output to <code class="docutils literal notranslate"><span class="pre">/corpus/%CORPUS_NAME%</span></code>. However, depending on the particularities of your corpus, it could do other preprocessing steps, e.g. compiling a word list and analyzing it before launching the source convertor. This way, you will save time on routine operations you need to perform every time before updating the corpus.</p>
</div>
<div class="section" id="updating-the-fork">
<h2>Updating the fork<a class="headerlink" href="#updating-the-fork" title="Permalink to this headline">¶</a></h2>
<p>If the Tsakorpus repository (which is called an <em>upstream</em> repository with respect to your fork) has been updated, you can fetch the changes by running the following commands in the repository folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>Make sure to <a class="reference external" href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-using-the-command-line">resolve all conflicts</a> before you proceed.</p>
<p>After this operation, you will have to pull changes to the server where your corpus is stored and reload apache (or whatever you use as the web server). Major changes might also require reindexing the corpus first.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">tsakorpus</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="faq.html">Short FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Forks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-private-fork-on-github">Creating a private “fork” on Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-the-fork">Updating the fork</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src_convertors.html">Source convertors</a></li>
<li class="toctree-l1"><a class="reference internal" href="parsed_wordlist_format.html">Morphological analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="tags_vs_glosses.html">Tags or glosses?</a></li>
<li class="toctree-l1"><a class="reference internal" href="src_convertors_gloss.html">Converting glosses to tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="txt2json.html">Plain text convertor</a></li>
<li class="toctree-l1"><a class="reference internal" href="eaf2json.html">ELAN convertor</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml_flex2json.html">FieldWorks convertor</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml_rnc2json.html">RNC XML convertor</a></li>
<li class="toctree-l1"><a class="reference internal" href="iso_tei_hamburg2json.html">Spoken ISO/TEI convertor</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="categories.html">Categories and tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Corpus configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexator.html">Indexing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="overview.html" title="previous chapter">Getting started</a></li>
      <li>Next: <a href="src_convertors.html" title="next chapter">Source convertors</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Timofey Arkhangelskiy.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/forks.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>